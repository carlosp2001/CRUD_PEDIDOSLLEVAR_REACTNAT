{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useContext, useEffect } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { colores, sizes } from \"../../estilos/estilos\";\nimport UsuarioContext from \"../../contexto/UsuarioContext\";\nimport Mensaje from \"../../componentes/Mensaje\";\nimport Axios from \"../../componentes/Axios\";\nimport CardPedidosLlevar from \"../pedidosLlevar/CardPedidosLlevarEliminar\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar ListarPedidosLlevar = function ListarPedidosLlevar() {\n  var textoMensaje = \"\";\n\n  var _useContext = useContext(UsuarioContext),\n      token = _useContext.token;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      lista = _useState2[0],\n      setLista = _useState2[1];\n\n  useEffect(function () {\n    buscarPedidosLlevar();\n  }, [setLista]);\n\n  var pressHandler = function pressHandler(key) {\n    try {\n      console.log(key);\n      var textoMensaje = null;\n      Axios.delete('pedidos/pedidosLlevar/eliminar?id=' + key, {\n        headers: {\n          'Authorization': 'Bearer ' + token\n        }\n      }).then(function (data) {\n        var json = data.data;\n\n        if (json.errores.length == 0) {\n          console.log(\"Eliminado con exito el registro\");\n          buscarPedidosLlevar();\n        } else {\n          textoMensaje = '';\n          json.errores.forEach(function (element) {\n            textoMensaje += element.mensaje + '. ';\n          });\n        }\n      }).catch(function (error) {\n        textoMensaje = error;\n      });\n    } catch (error) {\n      textoMensaje = error;\n      console.log(error);\n    }\n  };\n\n  var buscarPedidosLlevar = function _callee() {\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(Axios.get('/pedidos/pedidosllevar/listar', {\n              headers: {\n                'Authorization': 'Bearer ' + token\n              }\n            }).then(function (data) {\n              var json = data.data;\n              setLista(json);\n              console.log(lista);\n            }).catch(function (error) {\n              textoMensaje = error;\n              Mensaje({\n                titulo: 'Error registro',\n                msj: textoMensaje\n              });\n            }));\n\n          case 3:\n            _context.next = 7;\n            break;\n\n          case 5:\n            _context.prev = 5;\n            _context.t0 = _context[\"catch\"](0);\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 5]], Promise);\n  };\n\n  return _jsx(TouchableWithoutFeedback, {\n    onPress: function onPress() {\n      Keyboard.dismiss();\n    },\n    children: _jsx(View, {\n      style: styles.contenedor,\n      children: _jsxs(ScrollView, {\n        children: [_jsx(View, {\n          style: styles.contenedorTitulo,\n          children: _jsx(Text, {\n            style: styles.tituloLogin,\n            children: \"Eliminar Pedidos Llevar\"\n          })\n        }), _jsx(View, {\n          style: styles.container,\n          children: _jsx(View, {\n            style: styles.content,\n            children: _jsx(View, {\n              style: styles.list,\n              children: _jsx(FlatList, {\n                data: lista,\n                keyExtractor: function keyExtractor(item) {\n                  return item.idregistro;\n                },\n                renderItem: function renderItem(_ref) {\n                  var item = _ref.item;\n                  return _jsx(CardPedidosLlevar, {\n                    item: item,\n                    pressHandler: pressHandler\n                  });\n                }\n              })\n            })\n          })\n        })]\n      })\n    })\n  });\n};\n\nvar styles = StyleSheet.create({\n  contenedor: {\n    backgroundColor: colores.gris700,\n    margin: 0,\n    padding: 20,\n    width: \"100%\",\n    height: \"100%\"\n  },\n  contenedorTitulo: {\n    marginTop: 30,\n    height: 80,\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    justifyContent: \"flex-end\"\n  },\n  list: {\n    marginTop: 40\n  },\n  tituloLogin: {\n    color: colores.textoTitulo,\n    fontSize: sizes.fontTitulo,\n    fontWeight: \"500\"\n  },\n  boton: {\n    alignItems: \"stretch\",\n    marginLeft: 10,\n    marginRight: 10\n  },\n  botonRedes: {\n    alignItems: \"stretch\",\n    margin: 5\n  }\n});\nexport default ListarPedidosLlevar;","map":{"version":3,"names":["React","useState","useContext","useEffect","colores","sizes","UsuarioContext","Mensaje","Axios","CardPedidosLlevar","ListarPedidosLlevar","textoMensaje","token","lista","setLista","buscarPedidosLlevar","pressHandler","key","console","log","delete","headers","then","data","json","errores","length","forEach","element","mensaje","catch","error","get","titulo","msj","Keyboard","dismiss","styles","contenedor","contenedorTitulo","tituloLogin","container","content","list","item","idregistro","StyleSheet","create","backgroundColor","gris700","margin","padding","width","height","marginTop","flexDirection","alignItems","justifyContent","color","textoTitulo","fontSize","fontTitulo","fontWeight","boton","marginLeft","marginRight","botonRedes"],"sources":["/Users/carlospineda/Downloads/Proyecto React/src/pantallas/pedidosLlevar/EliminarPedidosLlevar.js"],"sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\nimport { StyleSheet, Text, View, Keyboard, TextInput, TouchableOpacity, TouchableWithoutFeedback, FlatList, ScrollView } from 'react-native';\nimport { colores, sizes } from '../../estilos/estilos';\nimport UsuarioContext from '../../contexto/UsuarioContext';\nimport Mensaje from '../../componentes/Mensaje';\nimport Axios from '../../componentes/Axios';\nimport CardPedidosLlevar from '../pedidosLlevar/CardPedidosLlevarEliminar';\n\nconst ListarPedidosLlevar = () => {\n    var textoMensaje = \"\";\n    const { token } = useContext(UsuarioContext);\n    const [lista, setLista] = useState(\"\");\n    useEffect(() => {\n        buscarPedidosLlevar();\n    }, [setLista]);\n\n    const pressHandler = (key) => {\n        try {\n            console.log(key)\n            var textoMensaje=null;\n            Axios.delete('pedidos/pedidosLlevar/eliminar?id=' + key, {\n                headers: {\n                    'Authorization': 'Bearer ' + token,\n                }\n            })\n            .then((data)=>{\n                const json=data.data;\n                if(json.errores.length==0){\n                    console.log(\"Eliminado con exito el registro\");\n                    buscarPedidosLlevar();\n                }\n                else{\n                    textoMensaje='';\n                    json.errores.forEach(element => {\n                        textoMensaje+= element.mensaje + '. ';\n                    });\n                }\n            })\n            .catch((error)=>{\n                textoMensaje=error;\n            });\n        } catch (error) {\n            textoMensaje=error;\n            console.log(error);\n        }\n      }\n\n    const buscarPedidosLlevar = async () => {\n         try {\n             await Axios.get('/pedidos/pedidosllevar/listar', {\n                 headers: {\n                    'Authorization': 'Bearer ' + token\n                 }\n             })\n                 .then((data) => {\n                    const json = data.data;\n                     setLista(json);\n                     console.log(lista)\n                         \n                        // else {\n                        //      textoMensaje = '';\n                        //      json.errores.forEach(element => {\n                        //          textoMensaje += element.mensaje + '. ';\n                        //      });\n                            \n                        //  }\n                 })\n                 \n                 .catch((error) => {\n                    textoMensaje = error;\n                     Mensaje({ titulo: 'Error registro', msj: textoMensaje });\n                });\n         } catch (error) {\n    //         textoMensaje = error;\n    //         console.log(error);\n    //         Mensaje({ titulo: 'Error registro', msj: error });\n        }\n    }\n\n    return (\n        <TouchableWithoutFeedback onPress={() => {\n            Keyboard.dismiss();\n        }}>\n            \n        <View style={styles.contenedor}>\n        <ScrollView>\n                <View style={styles.contenedorTitulo}>\n                    <Text style={styles.tituloLogin}>Eliminar Pedidos Llevar</Text>\n                </View>\n                \n      <View style={styles.container}>\n      <View style={styles.content}>\n        \n        <View style={styles.list}>\n          <FlatList\n            data={lista}\n            keyExtractor={item => item.idregistro}\n            renderItem={({item}) => (\n              <CardPedidosLlevar item={item} pressHandler={ pressHandler }/>\n            )}\n          />\n        </View>\n      </View>\n                    </View>\n                    </ScrollView>\n                </View>\n                \n            </TouchableWithoutFeedback>\n    )\n}\n\nconst styles = StyleSheet.create({\n    contenedor: {\n        backgroundColor: colores.gris700,\n        //alignItems: 'center',\n        //justifyContent: \"center\",\n        margin: 0,\n        padding: 20,\n        width: \"100%\",\n        height: \"100%\",\n    },\n   \n    contenedorTitulo: {\n        marginTop: 30,\n        height: 80,\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"flex-end\",\n    },\n    list: {\n        marginTop: 40,\n        \n      },\n    \n    tituloLogin: {\n        color: colores.textoTitulo,\n        fontSize: sizes.fontTitulo,\n        fontWeight: \"500\",\n    },\n    boton: {\n        //flex: 1,\n        alignItems: \"stretch\",\n        marginLeft: 10,\n        marginRight: 10,\n    },\n    botonRedes: {\n        //flex:1,\n        alignItems: \"stretch\",\n        margin: 5,\n    },\n    \n})\n\nexport default ListarPedidosLlevar;"],"mappings":"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"},"metadata":{},"sourceType":"module"}